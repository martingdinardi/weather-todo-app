(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{L:()=>A});class t{constructor(e,t,o){this.tarea_titulo=e,this.tarea_description=t,this.tarea_icono=o,this.id=(new Date).getTime(),this.completado=!1}}const o=document.querySelector(".todo-container"),n=document.querySelector(".add-activity"),i=(document.querySelector(".app-container"),document.querySelector(".create-todo-container")),s=document.querySelector(".arrow-icon"),d=document.querySelector(".icons-to-select"),c=document.querySelectorAll(".icon-to-select"),r=document.querySelector(".icon-selected"),l=document.querySelector(".create-todo-title"),a=document.querySelector(".create-todo-description"),m=document.querySelector(".create-todo-confirm"),u=document.querySelector(".no-todo-container"),h=document.querySelector(".complete-button"),p=document.querySelector(".pending"),v=document.querySelector(".delete-all-todos-container");let g=!1,b=0,L=0;n.addEventListener("click",(()=>{i.removeAttribute("hidden")})),s.addEventListener("click",(()=>{s.classList.toggle("rotate"),d.removeAttribute("hidden")})),c.forEach((e=>{e.addEventListener("click",(e=>{d.setAttribute("hidden",""),s.classList.remove("rotate"),r.innerHTML=`<img src=${e.target.src} class="icon selected-ico"> `}))})),m.addEventListener("click",(e=>{if(l.value.length>0&&a.value.length>0){const e=new t(l.value,a.value,r.children[0].src);A.nuevoTodo(e);const n=(e=>{const t=`\n    <div class="todo-item ${e.completado?"todo-completed":""}" data-id=${e.id}>\n    <div class="todo-item-content">\n      <div class="todo-label"></div>\n      <div class="todo-icon">\n        <img src=${e.tarea_icono} class="todo-svg" />\n      </div>\n      <div class="todo-description-container">\n        <p class="todo-title">${e.tarea_titulo}</p>\n        <p class="todo-description">\n          ${e.tarea_description}\n        </p>\n      </div>\n      <div class="todo-time-container">\n        <p class="todo-time"><input type="checkbox" class="check"></p>\n        <img src="./assets/img/trash.svg" class="todo-svg trash-ico" />\n      </div>\n    </div>\n  </div>\n    `,n=document.createElement("div");return n.innerHTML=t,o.append(n),n})(e);u.setAttribute("hidden",""),1==g&&n.setAttribute("hidden",""),i.setAttribute("hidden","")}L++,console.log(`elementosPendientes = ${L}`)})),o.addEventListener("click",(e=>{const t=e.target.classList[1],n=e.target.parentElement.parentElement.parentElement.parentElement;if(null!=n.getAttribute("data-id"))n.classList.toggle("todo-completed"),n.parentElement.setAttribute("hidden",""),0==b&&u.removeAttribute("hidden"),1==g?(b--,L++):0==g&&(b++,L--),console.log(`elementosCompletados = ${b}`),console.log(`elementosPendientes = ${L}`);else if("trash-ico"==t){const t=e.target.parentElement.parentElement.parentElement.getAttribute("data-id");A.eliminarTodo(t),o.removeChild(n),1==g?(b--,console.log(b),0==b&&u.removeAttribute("hidden")):0==g&&(L--,console.log(L),0==L&&u.removeAttribute("hidden"))}})),h.addEventListener("click",(()=>{if(g=!0,console.log(g),v.removeAttribute("hidden"),"complete-button"==h.classList[0]){for(let e=o.children.length-1;e>=0;e--){const t=o.children[e],n=t.children;"todo-item"==n[0].classList[0]&&t.setAttribute("hidden",""),"todo-completed"==n[0].classList[1]?t.removeAttribute("hidden"):0==b&&u.removeAttribute("hidden")}h.classList.remove("complete-button"),h.classList.add("pending-button"),p.classList.remove("pending-button"),p.classList.add("complete-button")}})),p.addEventListener("click",(e=>{g=!1,L>0&&u.setAttribute("hidden",""),console.log(g),console.log(`elementosPendientes es mayor a 1 = ${L>0}`);for(let e=o.children.length-1;e>=0;e--){const t=o.children[e],n=t.children;"todo-completed"!=n[0].classList[1]&&"no-todo"!=n[0].classList?t.removeAttribute("hidden",""):"todo-completed"==n[0].classList[1]&&t.setAttribute("hidden","")}"complete-button"==p.classList[1]&&(v.setAttribute("hidden",""),h.classList.add("complete-button"),h.classList.remove("pending-button"),p.classList.add("pending-button"),p.classList.remove("complete-button"))})),v.addEventListener("click",(()=>{A.eliminarCompletados();for(let e=o.children.length-1;e>=0;e--){const t=o.children[e];t.children[0].classList.contains("todo-completed")&&(o.removeChild(t),0===A.todos.length&&u.removeAttribute("hidden"))}}));const A=new class{constructor(){this.todos=[]}nuevoTodo(e){this.todos.push(e)}eliminarTodo(e){this.todos=this.todos.filter((t=>t.id!=e))}marcarCompletado(e){for(const t of this.todos)if(t.id==e){t.completado=!t.completado;break}}eliminarCompletados(){this.todos=this.todos.filter((e=>!e.completado))}};console.log(A)})();