(()=>{var e={891:()=>{const e=document.querySelector(".city"),t=document.querySelector(".select-city"),o=document.querySelector(".check-icon"),r=(document.querySelector(".location-weather"),document.querySelector(".weather-icon")),i=document.querySelector(".weather-container"),n=document.querySelector(".temp");let s={appKey:"48b287be2a3392698910b87d61c23d37",fetchWeather:e=>{const t=e;localStorage.setItem("Selected City",t),fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=${s.appKey}`).then((e=>e.json())).then((e=>s.displayWeather(e)))},displayWeather:async function(o){const{name:s}=o,{icon:d}=o.weather[0],{temp:a}=o.main,c=(a-273).toString().substring(0,4);n.innerHTML=`${c}Â°C`,"Clear"===o.weather[0].main&&"01d"===d?i.style.backgroundImage="url(./assets/img/clear.gif)":"Clear"===o.weather[0].main&&"01n"===d?i.style.backgroundImage="url(./assets/img/clear_night.gif)":"Clouds"===o.weather[0].main&&"02d"===d?i.style.backgroundImage="url(./assets/img/clouds.gif)":"Clouds"===o.weather[0].main&&"03d"===d?i.style.backgroundImage="url(./assets/img/clouds_night.gif)":"Clouds"===o.weather[0].main&&"04d"===d?i.style.backgroundImage="url(./assets/img/broken_clouds.gif)":"Clouds"===o.weather[0].main&&"02n"===d?i.style.backgroundImage="url(./assets/img/moon_and_clouds.gif)":"Clouds"===o.weather[0].main&&"04n"===d||"Clouds"===o.weather[0].main&&"03n"===d?i.style.backgroundImage="url(./assets/img/clouds_night.gif)":"Rain"===o.weather[0].main&&"10d"===d||"Rain"===o.weather[0].main&&"10n"===d?i.style.backgroundImage="url(./assets/img/rainy_day.gif)":"Thunderstorm"===o.weather[0].main&&"11n"===d?i.style.backgroundImage="url(./assets/img/storm_night.gif)":"Thunderstorm"===o.weather[0].main&&"11d"===d?i.style.backgroundImage="url(./assets/img/storm_day.gif)":"Snow"===o.weather[0].main?i.style.backgroundImage="url(./assets/img/snow.gif)":"Mist"===o.weather[0].main&&(i.style.backgroundImage="url(./assets/img/mist.gif)"),e.innerHTML=`<p>${s}</p>`,r.src=`https://openweathermap.org/img/wn/${d}@2x.png`,t.setAttribute("hidden",""),e.removeAttribute("hidden")}};if(e.addEventListener("click",(()=>{e.setAttribute("hidden",""),t.removeAttribute("hidden",""),t.firstElementChild.firstElementChild.value="",t.children[0].focus()})),o.addEventListener("click",(async()=>{const e=t.firstElementChild.firstElementChild.value;await s.fetchWeather(e)})),document.addEventListener("keypress",(async e=>{if("13"===e.keyCode||"Enter"===e.key){const e=t.firstElementChild.firstElementChild.value;await s.fetchWeather(e)}})),localStorage.getItem("Selected City")){const e=localStorage.getItem("Selected City");s.fetchWeather(e)}}},t={};function o(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{"use strict";o.d(r,{L:()=>k});class e{constructor(e,t,o){this.tarea_titulo=e,this.tarea_description=t,this.tarea_icono=o,this.id=(new Date).getTime(),this.completado=!1}}const t=document.querySelector(".todo-container"),i=document.querySelector(".add-activity"),n=(document.querySelector(".app-container"),document.querySelector(".create-todo-container")),s=document.querySelector(".arrow-icon"),d=document.querySelector(".icons-to-select"),a=document.querySelectorAll(".icon-to-select"),c=document.querySelector(".icon-selected"),l=document.querySelector(".create-todo-title"),m=document.querySelector(".create-todo-description"),u=document.querySelector(".create-todo-confirm"),h=document.querySelector(".no-todo-container"),g=document.querySelector(".complete-button"),p=document.querySelector(".pending"),b=document.querySelector(".delete-all-todos-container"),v=document.querySelector(".time"),y=document.querySelector(".date");let f=new Date,L=!1,S=0,w=0;const A=e=>{const o=`\n    <div class="todo-item ${e.completado?"todo-completed":""}" data-id=${e.id}>\n    <div class="todo-item-content">\n      <div class="todo-label"></div>\n      <div class="todo-icon">\n        <img src=${e.tarea_icono} class="todo-svg" />\n      </div>\n      <div class="todo-description-container">\n        <p class="todo-title">${e.tarea_titulo}</p>\n        <p class="todo-description">\n          ${e.tarea_description}\n        </p>\n      </div>\n      <div class="todo-time-container">\n        <p class="todo-time"><input type="checkbox" class="check" ${e.completado?"checked":""}></p>\n        <img src="./assets/img/trash.svg" class="todo-svg trash-ico" />\n      </div>\n    </div>\n  </div>\n    `,r=document.createElement("div");return e.completado?(S++,r.setAttribute("hidden","")):0==e.completado?w++:w>0&&h.setAttribute("hidden",""),r.innerHTML=o,t.prepend(r),r};window.addEventListener("load",(()=>{w>0&&h.setAttribute("hidden","");const e=f.toUTCString().split(" "),t=()=>{f=new Date;let e=f.toUTCString().split(" ")[4].split(":");v.innerHTML=`${f.getHours()}:${e[1]}`,setTimeout(t,1e3)};t(),y.innerHTML=`${e[0]} ${e[1]} ${e[2]} ${e[3]}`})),i.addEventListener("click",(()=>{n.removeAttribute("hidden")})),s.addEventListener("click",(()=>{s.classList.toggle("rotate"),d.removeAttribute("hidden")})),a.forEach((e=>{e.addEventListener("click",(e=>{d.setAttribute("hidden",""),s.classList.remove("rotate"),c.innerHTML=`<img src=${e.target.src} class="icon selected-ico"> `}))})),u.addEventListener("click",(t=>{if(l.value.length>0&&m.value.length>0){const t=new e(l.value,m.value,c.children[0].src);k.nuevoTodo(t);const o=A(t);h.setAttribute("hidden",""),1==L&&(o.setAttribute("hidden",""),0==S&&h.removeAttribute("hidden")),n.setAttribute("hidden","")}})),t.addEventListener("click",(e=>{const o=e.target.classList[1],r=e.target.parentElement.parentElement.parentElement.parentElement,i=r.getAttribute("data-id");if(null!=i)r.classList.toggle("todo-completed"),r.parentElement.setAttribute("hidden",""),k.marcarCompletado(i),1==L?(S--,w++,0==S&&h.removeAttribute("hidden")):0==L&&(S++,w--,0==w&&h.removeAttribute("hidden"));else if("trash-ico"==o){const o=e.target.parentElement.parentElement.parentElement.getAttribute("data-id");k.eliminarTodo(o),t.removeChild(r),1==L?(S--,0==S&&h.removeAttribute("hidden")):0==L&&(w--,0==w&&h.removeAttribute("hidden"))}})),g.addEventListener("click",(()=>{if(L=!0,b.removeAttribute("hidden"),S>0&&h.setAttribute("hidden",""),"complete-button"==g.classList[0]){for(let e=t.children.length-1;e>=0;e--){const o=t.children[e],r=o.children;"todo-item"==r[0].classList[0]&&o.setAttribute("hidden",""),"todo-completed"==r[0].classList[1]?o.removeAttribute("hidden"):0==S?h.removeAttribute("hidden"):1==S&&h.setAttribute("hidden","")}g.classList.remove("complete-button"),g.classList.add("pending-button"),p.classList.remove("pending-button"),p.classList.add("complete-button")}})),p.addEventListener("click",(e=>{L=!1,w>0&&h.setAttribute("hidden",""),0==w&&h.removeAttribute("hidden");for(let e=t.children.length-1;e>=0;e--){const o=t.children[e],r=o.children;"todo-completed"!=r[0].classList[1]&&"no-todo"!=r[0].classList?o.removeAttribute("hidden",""):"todo-completed"==r[0].classList[1]&&o.setAttribute("hidden","")}"complete-button"==p.classList[1]&&(b.setAttribute("hidden",""),g.classList.add("complete-button"),g.classList.remove("pending-button"),p.classList.add("pending-button"),p.classList.remove("complete-button"))})),b.addEventListener("click",(()=>{k.eliminarCompletados(),S=0,h.removeAttribute("hidden");for(let e=t.children.length-1;e>=0;e--){const o=t.children[e];o.children[0].classList.contains("todo-completed")&&(t.removeChild(o),0===k.todos.length&&h.removeAttribute("hidden"))}})),o(891);const k=new class{constructor(){this.cargarLocalStorage()}nuevoTodo(e){this.todos.push(e),this.guardarLocalStorage()}eliminarTodo(e){this.todos=this.todos.filter((t=>t.id!=e)),this.guardarLocalStorage()}marcarCompletado(e){for(const t of this.todos)if(t.id==e){t.completado=!t.completado,this.guardarLocalStorage();break}}eliminarCompletados(){this.todos=this.todos.filter((e=>!e.completado)),this.guardarLocalStorage()}guardarLocalStorage(){localStorage.setItem("todo",JSON.stringify(this.todos))}cargarLocalStorage(){localStorage.getItem("todo")?(this.todos=JSON.parse(localStorage.getItem("todo")),console.log(this.todos)):this.todos=[]}};let E=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${E}px`),k.todos.forEach((e=>A(e)))})()})();